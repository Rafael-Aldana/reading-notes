# Bearer Authorization

## Intro to JWT

What is a JSON Web Token (JWT)?

JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed. JWTs can be signed using a secret (with the HMAC algorithm) or a public/private key pair using RSA or ECDSA.

When should we use JSON Web Tokens?

Here are some scenarios where JSON Web Tokens are useful:

Authorization: This is the most common scenario for using JWT. Once the user is logged in, each subsequent request will include the JWT, allowing the user to access routes, services, and resources that are permitted with that token. Single Sign On is a feature that widely uses JWT nowadays, because of its small overhead and its ability to be easily used across different domains.

Information Exchange: JSON Web Tokens are a good way of securely transmitting information between parties. Because JWTs can be signed—for example, using public/private key pairs—you can be sure the senders are who they say they are. Additionally, as the signature is calculated using the header and the payload, you can also verify that the content hasn't been tampered with.

Claims are expected in which structural component of a JWT?

The claims in a JWT are encoded as a JSON object that is used as the payload of a JSON Web Signature (JWS) structure or as the plain-text of a JSON Web Encryption (JWE) structure. JWT claims can be digitally signed or integrity protected with a Message Authentication Code (MAC) and they can also be encrypted.


## Are JWTs Secure?

If I get a JWT and I can decode the payload, how can we call that secure?

The contents in a json web token (JWT) are not inherently secure, but there is a built-in feature for verifying token authenticity. A JWT is three hashes separated by periods. The third is the signature. In a public/private key system, the issuer signs the token signature with a private key which can only be verified by its corresponding public key.

It is important to understand the distinction between issuer and verifier. The recipient of the token is responsible for verifying it.

There are two critical steps in using JWT securely in a web application: 1) send them over an encrypted channel, and 2) verify the signature immediately upon receiving it. The asymmetric nature of public key cryptography makes JWT signature verification possible. A public key verifies a JWT was signed by its matching private key. No other combination of keys can do this verification, thus preventing impersonation attempts. Follow these two steps and we can guarantee with mathematical certainty the authenticity of a JWT.

If sending a JWT, what must sender and receiver both know? Hint, it’s appended in the signature.

When sending a JWT (JSON Web Token), both the sender and the receiver must know the secret key that was used to sign the token. This key is used to verify the integrity of the token and ensure that it was not tampered with during transmission.

The process of sending a JWT typically involves the following steps:

The sender generates a JWT containing a set of claims, such as a user ID or other metadata.

The sender signs the JWT using a secret key that is known only to the sender and the receiver. This key is used to create a digital signature that can be used to verify the authenticity of the token.

The sender sends the JWT to the receiver in an HTTP header, typically the Authorization header.

The receiver receives the JWT and validates the digital signature using the secret key. If the signature is valid, the receiver can trust the contents of the JWT and use it to authenticate the user or perform other operations.

Explain how concatenated content and secret can be sent and received securely to a non-technical recruiter.

Concatenated content and secret can be sent and received securely using a technique called "message authentication code" (MAC).

The basic idea is to combine the content and secret using a cryptographic hash function to create a unique fingerprint, or "tag," that can be sent along with the content. This tag serves as a proof of authenticity, since it can only be generated by someone who knows the secret.

To send a message securely using MAC, the sender follows these steps:

Concatenate the content and secret into a single string.

Use a cryptographic hash function to compute the MAC, or tag, for the concatenated string.

Send the content and MAC to the receiver.

To receive a message securely using MAC, the receiver follows these steps:

Concatenate the received content and the known secret into a single string.

Use the same cryptographic hash function to compute the MAC for the concatenated string.

Compare the computed MAC with the received MAC. If the two match, the content is considered authentic and can be trusted.

## JWTs Explained

Why use JWT?

JWTs are a good way of securely transmitting information between parties because they can be signed, which means you can be sure that the senders are who they say they are. Additionally, the structure of a JWT allows you to verify that the content hasn't been tampered with.


JWT is Compact and self-contained. Describe how this is useful to a non-technical friend.

JWT (JSON Web Token) is a compact and self-contained way of transmitting information between parties as a JSON object. The compactness of JWTs means that they are very efficient to transmit over networks, taking up very little bandwidth.

Additionally, the self-contained nature of JWTs means that all the information needed to verify the token is contained within the token itself, making it very easy for different parts of a system to verify the token's authenticity. This is useful because it allows developers to send information across different systems and platforms securely and efficiently without needing to send additional metadata or contextual information with the token.

JWTs are also versatile and can be used in a variety of contexts, such as authentication, authorization, and data exchange. Because they are standardized, widely used, and have libraries available in many programming languages, JWTs have become a popular way to transmit secure information across the internet.

What are the three components (the structure) of a JWT signature?

JWT consists of three parts: a header, payload, and signature.

[link-to-reading-notes](https://jwt.io/introduction/).
[link-to-reading-notes](https://stackoverflow.com/questions/27301557/if-you-can-decode-jwt-how-are-they-secure).
[link-to-reading-notes](https://www.youtube.com/watch?v=926mknSW9Lo).

## Bookmark and Review

[link-to-reading-notes](https://www.npmjs.com/package/jsonwebtoken).

*************************************************************************************************************

### Things I want to know more about:

How will we be using this in class?